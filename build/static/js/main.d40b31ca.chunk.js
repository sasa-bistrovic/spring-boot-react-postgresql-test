(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},57:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(31),i=a.n(c),o=a(15),l=a(10),s=a(2),u=a(7),d=a(8),m=a(12),h=a(11),p=a(1),v=a(13),b=(a(39),a(18)),g=a.n(b).a.create({headers:{"Content-type":"application/json"}});"http:"===window.location.protocol&&(g.defaults.baseURL="http://spring-boot-react-postgresql.herokuapp.com/api"),"http:"!==window.location.protocol&&(g.defaults.baseURL="https://spring-boot-react-postgresql.herokuapp.com/api");var P=new(function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,[{key:"getAll",value:function(){return g.get("/products")}},{key:"get",value:function(e){return g.get("/products/".concat(e))}},{key:"create",value:function(e){return g.post("/products",e)}},{key:"update",value:function(e,t){return g.put("/products/".concat(e),t)}},{key:"delete",value:function(e){return g.delete("/products/".concat(e))}},{key:"deleteAll",value:function(){return g.delete("/products")}},{key:"findByName",value:function(e){return g.get("/products?name=".concat(e))}}]),e}()),k=(a(57),r.Component,r.Component,r.Component,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleClick=function(e){a.state.currentProduct2=null,a.state.currentIndex=-1,a.retrieveProducts2(),a.state.submitted=!1,a.state.message="",a.setState({currentProduct2:null,currentIndex:-1,message:"",DataisLoaded:!1,id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1,clickevent:1})},a.handleClick1=function(e){a.state.submitted=!1,a.state.message="",a.setState({message:"",DataisLoaded:!1,id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1,clickevent:2})},a.handleClick2=function(e){a.getProduct(a.state.currentProduct2.id),a.state.submitted=!1,a.state.message="",a.setState({message:"",DataisLoaded:!1,id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1,clickevent:3})},a.onChangeSearchName2=a.onChangeSearchName2.bind(Object(p.a)(a)),a.retrieveProducts2=a.retrieveProducts2.bind(Object(p.a)(a)),a.refreshList2=a.refreshList2.bind(Object(p.a)(a)),a.setActiveProduct2=a.setActiveProduct2.bind(Object(p.a)(a)),a.removeAllProducts2=a.removeAllProducts2.bind(Object(p.a)(a)),a.searchName2=a.searchName2.bind(Object(p.a)(a)),a.onChangeCode2=a.onChangeCode2.bind(Object(p.a)(a)),a.onChangeName2=a.onChangeName2.bind(Object(p.a)(a)),a.onChangePricehrk2=a.onChangePricehrk2.bind(Object(p.a)(a)),a.onChangePriceeur2=a.onChangePriceeur2.bind(Object(p.a)(a)),a.onChangeDescription2=a.onChangeDescription2.bind(Object(p.a)(a)),a.saveProduct2=a.saveProduct2.bind(Object(p.a)(a)),a.newProduct2=a.newProduct2.bind(Object(p.a)(a)),a.onChangeCode=a.onChangeCode.bind(Object(p.a)(a)),a.onChangeName=a.onChangeName.bind(Object(p.a)(a)),a.onChangePricehrk=a.onChangePricehrk.bind(Object(p.a)(a)),a.onChangePriceeur=a.onChangePriceeur.bind(Object(p.a)(a)),a.onChangeDescription=a.onChangeDescription.bind(Object(p.a)(a)),a.getProduct=a.getProduct.bind(Object(p.a)(a)),a.updateisAvailable=a.updateisAvailable.bind(Object(p.a)(a)),a.updateProduct=a.updateProduct.bind(Object(p.a)(a)),a.deleteProduct=a.deleteProduct.bind(Object(p.a)(a)),a.clickevent1=a.handleClick.bind(Object(p.a)(a)),a.clickevent2=a.handleClick1.bind(Object(p.a)(a)),a.clickevent3=a.handleClick2.bind(Object(p.a)(a)),a.state={products:[],currentProduct:{id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1},currentProduct2:null,currentIndex:-1,searchName:"",eurconversion:"",message:"",DataisLoaded:!1,id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1,clickevent:1},a.seteurconversion(),a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){1===this.state.clickevent&&this.retrieveProducts2(),3===this.state.clickevent&&this.getProduct(this.state.currentProduct2.id)}},{key:"seteurconversion",value:function(){var e=this;fetch("../eur_conversion").then((function(e){return e.text()})).then((function(t){e.setState({eurconversion:t})}))}},{key:"onChangeCode2",value:function(e){this.setState({code:e.target.value})}},{key:"onChangeName2",value:function(e){this.setState({name:e.target.value})}},{key:"onChangePricehrk2",value:function(e){var t=(e.target.value/this.state.eurconversion).toFixed(2);this.setState({pricehrk:e.target.value,priceeur:t})}},{key:"onChangePriceeur2",value:function(e){this.setState({priceeur:e.target.value})}},{key:"onChangeDescription2",value:function(e){this.setState({description:e.target.value})}},{key:"saveProduct2",value:function(){var e=this,t=parseFloat(this.state.pricehrk);if(10==this.state.code.trim().length){(""==this.state.pricehrk.trim()||0==this.state.pricehrk.trim().length||isNaN(t))&&(t=0),t<0&&(t=0);var a=((t=t.toFixed(2))/this.state.eurconversion).toFixed(2);this.setState({pricehrk:t,priceeur:a});var r={code:this.state.code,name:this.state.name,pricehrk:t,priceeur:a,description:this.state.description};P.create(r).then((function(t){e.setState({id:t.data.id,code:t.data.code,name:t.data.name,pricehrk:t.data.pricehrk,priceeur:t.data.priceeur,description:t.data.description,isAvailable:t.data.isAvailable,submitted:!0}),e.setState({message:""}),console.log(t.data)})).catch((function(e){console.log(e)}))}else this.setState({message:"Code (unique) (exactly 10 character) !"})}},{key:"newProduct2",value:function(){this.setState({id:null,code:"",name:"",pricehrk:"",priceeur:"",description:"",isAvailable:!1,submitted:!1})}},{key:"onChangeSearchName2",value:function(e){var t=e.target.value;this.setState({searchName:t})}},{key:"retrieveProducts2",value:function(){var e=this;P.getAll().then((function(t){e.setState({products:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList2",value:function(){this.retrieveProducts(),this.setState({currentProduct2:null,currentIndex:-1})}},{key:"setActiveProduct2",value:function(e,t){this.setState({currentProduct2:e,currentIndex:t})}},{key:"removeAllProducts2",value:function(){var e=this;P.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchName2",value:function(){var e=this;this.setState({currentProduct2:null,currentIndex:-1}),P.findByName(this.state.searchName).then((function(t){e.setState({products:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"onChangeCode",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{code:t})}}))}},{key:"onChangeName",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{name:t})}}))}},{key:"onChangePricehrk",value:function(e){var t=e.target.value,a=(e.target.value/this.state.eurconversion).toFixed(2);this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{pricehrk:t,priceeur:a})}}))}},{key:"onChangePriceeur",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{priceeur:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{description:t})}}))}},{key:"getProduct",value:function(e){var t=this;P.get(e).then((function(e){t.setState({currentProduct:e.data}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updateisAvailable",value:function(e){var t=this,a=parseFloat(this.state.currentProduct.pricehrk);if(10==this.state.currentProduct.code.trim().length){(""==this.state.currentProduct.pricehrk.trim()||0==this.state.currentProduct.pricehrk.trim().length||isNaN(a))&&(a=0),a<0&&(a=0),a=a.toFixed(2);var r=this.state.eurconversion,n=(a/r).toFixed(2);this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{pricehrk:a,priceeur:n})}}));var c={id:this.state.currentProduct.id,code:this.state.currentProduct.code,name:this.state.currentProduct.name,pricehrk:a,priceeur:n,description:this.state.currentProduct.description,isAvailable:e};P.update(this.state.currentProduct.id,c).then((function(a){t.setState((function(t){return{currentProduct:Object(s.a)({},t.currentProduct,{isAvailable:e})}})),e?t.setState({message:"Product is available !"}):t.setState({message:"Product is not available !"}),console.log(a.data)})).catch((function(e){console.log(e)}))}else this.setState({message:"Code (unique) (exactly 10 character) !"})}},{key:"updateProduct",value:function(){var e=this,t=parseFloat(this.state.currentProduct.pricehrk);if(10==this.state.currentProduct.code.trim().length){(""==this.state.currentProduct.pricehrk.trim()||0==this.state.currentProduct.pricehrk.trim().length||isNaN(t))&&(t=0),t<0&&(t=0),t=t.toFixed(2);var a=this.state.eurconversion,r=(t/a).toFixed(2);this.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct,{pricehrk:t,priceeur:r})}}));var n={id:this.state.currentProduct.id,code:this.state.currentProduct.code,name:this.state.currentProduct.name,pricehrk:t,priceeur:r,description:this.state.currentProduct.description,isAvailable:this.state.currentProduct.isAvailable};P.update(this.state.currentProduct.id,n).then((function(t){e.setState((function(e){return{currentProduct:Object(s.a)({},e.currentProduct)}})),console.log(t.data),e.setState({message:"The product was updated successfully!"})})).catch((function(e){console.log(e)}))}else this.setState({message:"Code (unique) (exactly 10 character) !"})}},{key:"deleteProduct",value:function(){var e=this;P.delete(this.state.currentProduct.id).then((function(t){console.log(t.data),e.clickevent1()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state;t.Name,t.products,t.currentProduct2,t.currentIndex,t.message,t.submitted,t.id,t.code,t.name,t.pricehrk,t.priceeur,t.description,t.isAvailable;return n.a.createElement("div",{className:"bg-light"},n.a.createElement("nav",{class:"navbar navbar-light bg-light"},n.a.createElement("div",null,n.a.createElement("button",{onClick:this.handleClick.bind(this),className:"btn btn-outline-success btn-lg my-3 my-sm-0 mr-3"},"Example"),n.a.createElement("button",{onClick:this.handleClick.bind(this),className:"btn btn-outline-success my-2 my-sm-0 mr-2"},"Products"),n.a.createElement("button",{onClick:this.handleClick1.bind(this),className:"btn btn-outline-success my-2 my-sm-0"},"Add"))),n.a.createElement("div",{className:"container p-3 my-3 bg-light text-black"},n.a.createElement(l.c,null,function(){if(1===e.state.clickevent)return n.a.createElement("div",{className:"list row bg-light"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search by name",value:e.state.searchName,onChange:e.onChangeSearchName2}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-success mb-3",type:"button",onClick:e.searchName2},"Search")))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h4",null,"Products List"),n.a.createElement("ul",{className:"list-group"},e.state.products&&e.state.products.map((function(t,a){return n.a.createElement("li",{className:"list-group-item",style:{color:a===e.state.currentIndex?"white":"black",backgroundColor:a===e.state.currentIndex?"darkgreen":"lightgreen"},onClick:function(){return e.setActiveProduct2(t,a)},key:a},t.name)}))),n.a.createElement("button",{className:"btn btn-success mr-1 my-3",onClick:e.removeAllProducts2},"Remove All")),n.a.createElement("div",{className:"col-md-6"},e.state.currentProduct2?n.a.createElement("div",null,n.a.createElement("h4",null,"Product"),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Code:"))," ",e.state.currentProduct2.code),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Name:"))," ",e.state.currentProduct2.name),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Pricehrk:"))," ",e.state.currentProduct2.pricehrk),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Priceeur:"))," ",e.state.currentProduct2.priceeur),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Description:"))," ",e.state.currentProduct2.description),n.a.createElement("div",null,n.a.createElement("label",null,n.a.createElement("strong",null,"Status:"))," ",e.state.currentProduct2.isAvailable?"IsAvailable":"Pending"),n.a.createElement("button",{onClick:e.handleClick2.bind(e),className:"btn btn-success mr-1"},"Edit")):n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("p",null,"Please click on a Product..."))))}(),function(){if(2===e.state.clickevent)return n.a.createElement("div",{className:"submit-form"},e.state.submitted?n.a.createElement("div",null,n.a.createElement("h4",null,"You submitted successfully!"),n.a.createElement("button",{className:"btn btn-success mr-1",onClick:e.newProduct2},"Add")):n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"code"},"Code"),n.a.createElement("input",{type:"text",className:"form-control",id:"code",required:!0,value:e.state.code,onChange:e.onChangeCode2,name:"code"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",required:!0,value:e.state.name,onChange:e.onChangeName2,name:"name"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"pricehrk"},"Pricehrk"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"pricehrk",required:!0,value:e.state.pricehrk,onChange:e.onChangePricehrk2,name:"pricehrk"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"priceeur"},"Priceeur"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"priceeur",required:!0,value:e.state.priceeur,onChange:e.onChangePriceeur2,name:"priceeur",disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",required:!0,value:e.state.description,onChange:e.onChangeDescription2,name:"description"})),n.a.createElement("button",{onClick:e.saveProduct2,className:"btn btn-success mr-1"},"Submit"),n.a.createElement("p",null,e.state.message)))}(),function(){if(3===e.state.clickevent)return n.a.createElement("div",null,e.state.currentProduct?n.a.createElement("div",{className:"edit-form"},n.a.createElement("h4",null,"Product"),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"code"},"Code"),n.a.createElement("input",{type:"text",className:"form-control",id:"code",value:e.state.currentProduct.code,onChange:e.onChangeCode})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",value:e.state.currentProduct.name,onChange:e.onChangeName})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"pricehrk"},"Pricehrk"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"pricehrk",value:e.state.currentProduct.pricehrk,onChange:e.onChangePricehrk})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"priceeur"},"Priceeur"),n.a.createElement("input",{type:"text",className:"form-control",style:{textAlign:"right"},id:"priceeur",value:e.state.currentProduct.priceeur,onChange:e.onChangePriceeur,disabled:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",value:e.state.currentProduct.description,onChange:e.onChangeDescription})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,n.a.createElement("strong",null,"Status:")),e.state.currentProduct.isAvailable?"isAvailable":"Pending")),e.state.currentProduct.isAvailable?n.a.createElement("button",{className:"btn btn-success mr-1",onClick:function(){return e.updateisAvailable(!1)}},"IsNotAvailable"):n.a.createElement("button",{className:"btn btn-success mr-1",onClick:function(){return e.updateisAvailable(!0)}},"IsAvailable"),n.a.createElement("button",{className:"btn btn-success mr-1",onClick:e.deleteProduct},"Delete"),n.a.createElement("button",{type:"submit",className:"btn btn-success mr-1",onClick:e.updateProduct},"Update"),n.a.createElement("p",null,e.state.message)):n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("p",null,"Please click on a Product...")))}())))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(o.a,null,n.a.createElement(l.a,{path:"/",component:k})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.d40b31ca.chunk.js.map